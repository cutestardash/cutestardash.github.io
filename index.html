<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>‚≠ê Cute Star Dash ‚≠ê</title>

<style>
body {
  margin: 0;
  background: radial-gradient(circle at top, #ffe6ff, #d0f0ff);
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  font-family: Arial, sans-serif;
  font-weight: bold;
  overflow: hidden;
}

canvas {
  background: white;
  border-radius: 20px;
  box-shadow: 0 25px 50px rgba(0,0,0,0.25);
}

/* UI */
.banner {
  position: fixed;
  top: 10px;
  left: 10px;
  background: #ff4fd8;
  color: white;
  padding: 6px 12px;
  border-radius: 12px;
  font-size: 12px;
}

.inventory {
  position: fixed;
  top: 50px;
  left: 10px;
  background: rgba(255,255,255,0.9);
  padding: 8px;
  border-radius: 12px;
  font-size: 12px;
}

.credits {
  position: fixed;
  bottom: 10px;
  width: 100%;
  text-align: center;
  font-size: 12px;
  opacity: 0.7;
}

/* Start screen */
.startScreen {
  position: fixed;
  inset: 0;
  background: linear-gradient(#ffccff, #ccf2ff);
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  z-index: 10;
}

.startScreen input {
  padding: 10px;
  border-radius: 10px;
  border: none;
  font-size: 16px;
  margin-bottom: 10px;
}

.startScreen button {
  padding: 10px 25px;
  font-size: 16px;
  border-radius: 15px;
  border: none;
  background: #6bcfff;
  color: white;
}

/* Mobile controls */
.controls {
  position: fixed;
  bottom: 70px;
  right: 20px;
  display: grid;
  grid-template-columns: 50px 50px 50px;
  gap: 6px;
}

.controls button {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  border: none;
  background: #6bcfff;
  color: white;
  font-size: 20px;
}
</style>
</head>

<body>

<div class="banner">üÜï NEW UPDATE!</div>
<div class="inventory" id="inventory">üéí Inventory:<br>None</div>

<div class="startScreen" id="startScreen">
  <h2>‚≠ê Cute Star Dash ‚≠ê</h2>
  <input id="playerNameInput" placeholder="Enter your name">
  <button onclick="startGame()">START GAME</button>
</div>

<canvas id="game" width="480" height="480"></canvas>

<div class="controls">
  <div></div>
  <button ontouchstart="keys.ArrowUp=true" ontouchend="keys.ArrowUp=false">‚¨ÜÔ∏è</button>
  <div></div>
  <button ontouchstart="keys.ArrowLeft=true" ontouchend="keys.ArrowLeft=false">‚¨ÖÔ∏è</button>
  <button ontouchstart="keys.ArrowDown=true" ontouchend="keys.ArrowDown=false">‚¨áÔ∏è</button>
  <button ontouchstart="keys.ArrowRight=true" ontouchend="keys.ArrowRight=false">‚û°Ô∏è</button>
</div>

<div class="credits">Made by Joshua | Instagram: @jshctz.mp3</div>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
const inventoryDiv = document.getElementById("inventory");

let keys = {};
let gameStarted = false;
let playerName = "";

let player = { x: 240, y: 240, r: 14, speed: 4, color: "#6bcfff" };
let stars = [];
let enemies = [];
let score = 0;
let level = 1;
let nextBallScore = 10;

let balls = [];
let ballColors = ["#ff69b4","#8a2be2","#00fa9a","#ffa500","#1e90ff","#ff1493"];

document.addEventListener("keydown", e => keys[e.key] = true);
document.addEventListener("keyup", e => keys[e.key] = false);

function startGame() {
  const input = document.getElementById("playerNameInput").value.trim();
  if (!input) return alert("Enter a name!");
  playerName = input;
  document.getElementById("startScreen").style.display = "none";
  gameStarted = true;
}

function spawnStar() {
  stars.push({ x: Math.random()*440+20, y: Math.random()*440+20, r: 8 });
}
function spawnEnemy() {
  enemies.push({
    x: Math.random()*440+20,
    y: Math.random()*440+20,
    r: 14,
    vx:(Math.random()-0.5)*(1+level*0.3),
    vy:(Math.random()-0.5)*(1+level*0.3)
  });
}

spawnStar();
spawnEnemy();

function dist(a,b){ return Math.hypot(a.x-b.x,a.y-b.y); }

function update() {
  if (!gameStarted) return;

  if (keys.ArrowUp) player.y -= player.speed;
  if (keys.ArrowDown) player.y += player.speed;
  if (keys.ArrowLeft) player.x -= player.speed;
  if (keys.ArrowRight) player.x += player.speed;

  player.x = Math.max(player.r, Math.min(480-player.r, player.x));
  player.y = Math.max(player.r, Math.min(480-player.r, player.y));

  stars.forEach((s,i)=>{
    if (dist(player,s) < player.r+s.r){
      stars.splice(i,1);
      score++;
      spawnStar();

      if (score % 5 === 0){ level++; spawnEnemy(); }

      if (score >= nextBallScore){
        let c = ballColors[(balls.length)%ballColors.length];
        balls.push(c);
        player.color = c;
        nextBallScore += 10;
        inventoryDiv.innerHTML = "üéí Inventory:<br>" + balls.map(b=>`<span style="color:${b}">‚óè</span>`).join(" ");
      }
    }
  });

  enemies.forEach(e=>{
    e.x+=e.vx; e.y+=e.vy;
    if (e.x<e.r||e.x>480-e.r) e.vx*=-1;
    if (e.y<e.r||e.y>480-e.r) e.vy*=-1;
    if (dist(player,e) < player.r+e.r){
      alert(`üíÄ Game Over!\n${playerName} scored ${score}`);
      location.reload();
    }
  });
}

function draw(){
  ctx.clearRect(0,0,480,480);

  stars.forEach(s=>{
    ctx.beginPath();
    ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
    ctx.fillStyle="#ffd700";
    ctx.shadowBlur=10;
    ctx.shadowColor="#ffd700";
    ctx.fill();
    ctx.shadowBlur=0;
  });

  enemies.forEach(e=>{
    ctx.beginPath();
    ctx.arc(e.x,e.y,e.r,0,Math.PI*2);
    ctx.fillStyle="#ff6b6b";
    ctx.fill();
  });

  ctx.beginPath();
  ctx.arc(player.x,player.y,player.r,0,Math.PI*2);
  ctx.fillStyle=player.color;
  ctx.shadowBlur=15;
  ctx.shadowColor=player.color;
  ctx.fill();
  ctx.shadowBlur=0;

  ctx.fillStyle="#333";
  ctx.font="bold 16px Arial";
  ctx.fillText("‚≠ê "+score,10,25);
}

function loop(){
  update();
  draw();
  requestAnimationFrame(loop);
}
loop();
</script>

</body>
</html>
